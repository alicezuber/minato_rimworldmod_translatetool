<Window x:Class="RimWorldTranslationTool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:RimWorldTranslationTool"
        Title="{Binding WindowTitle, Source={x:Static local:LocalizationService.Instance}}" 
        Height="750" Width="1300"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource BackgroundBrush}">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- é ‚éƒ¨æ¨™é¡Œå€ -->
        <Border Grid.Row="0" Background="{DynamicResource HeaderBackgroundBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,0,1">
            <Grid Margin="24,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="ðŸŽ®" FontSize="28" VerticalAlignment="Center" Margin="0,0,12,0"/>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="{Binding WindowTitle, Source={x:Static local:LocalizationService.Instance}}" Style="{DynamicResource HeaderTextStyle}"/>
                        <TextBlock Text="{Binding Subtitle, Source={x:Static local:LocalizationService.Instance}}" Style="{DynamicResource LabelTextStyle}" Margin="0"/>
                    </StackPanel>
                </StackPanel>
                
                <!-- å¿«é€Ÿæ“ä½œå€ -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <!-- ä¸»é¡Œåˆ‡æ›æŒ‰éˆ• -->
                    <Button x:Name="ThemeToggleButton" 
                            Style="{StaticResource SecondaryButtonStyle}"
                            Click="ThemeToggleButton_Click"
                            ToolTip="åˆ‡æ›æ·±è‰²/æ·ºè‰²æ¨¡å¼"
                            Margin="0,0,12,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="ThemeIcon" Text="ðŸŒ™" FontSize="16" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- ä¸»è¦å…§å®¹å€ - TabControl -->
        <TabControl Grid.Row="1" Margin="24,16,24,0">
            
            <!-- è¨­å®šé ç±¤ -->
            <TabItem Header="{Binding TabSettings, Source={x:Static local:LocalizationService.Instance}}">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="0,16,0,0">
                    <Grid MaxWidth="1200" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" MinWidth="380"/>
                            <ColumnDefinition Width="16"/>
                            <ColumnDefinition Width="*" MinWidth="380"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- å·¦å´æ¬„ -->
                        <StackPanel Grid.Column="0" Grid.Row="0">
                            
                            <!-- ðŸŽ® åŸºæœ¬è¨­å®šå¡ç‰‡ -->
                            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16" Background="#F0FDF4">
                                <Border.Effect>
                                    <DropShadowEffect Color="#10B981" Opacity="0.1" BlurRadius="8" ShadowDepth="0"/>
                                </Border.Effect>
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="ðŸŽ®" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding RimWorldPathSettings, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}"/>
                                        <TextBlock x:Name="GamePathStatusIcon" Text="âœ“" FontSize="16" Foreground="#10B981" Margin="8,0,0,0" Visibility="Collapsed"/>
                                    </StackPanel>
                                    <TextBlock Text="{Binding PathSettingsDescription, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,12"/>
                                    
                                    <!-- éŠæˆ²è·¯å¾‘è¼¸å…¥å€ -->
                                    <Border Background="White" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{Binding GameDirectory, Source={x:Static local:LocalizationService.Instance}}" FontWeight="SemiBold" Margin="0,0,8,0"/>
                                                <TextBlock x:Name="GamePathValidationIcon" Text="" FontSize="14"/>
                                            </StackPanel>
                                            <TextBlock Text="{Binding GameDirectoryDescription, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,8"/>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBox x:Name="GamePathTextBox" Grid.Column="0"
                                                         Style="{StaticResource ModernTextBoxStyle}"
                                                         Text="{Binding GamePath, UpdateSourceTrigger=PropertyChanged}"
                                                         AllowDrop="True" Drop="GamePathTextBox_Drop" DragEnter="GamePathTextBox_DragEnter"/>
                                                <Button x:Name="BrowseGameButton" Grid.Column="1" Content="ðŸ“ {Binding Browse, Source={x:Static local:LocalizationService.Instance}}" 
                                                        Style="{StaticResource SecondaryButtonStyle}"
                                                        Margin="8,0,0,0" Click="BrowseGameButton_Click"/>
                                            </Grid>
                                            <TextBlock x:Name="GamePathValidationText" Text="" FontSize="12" Margin="0,4,0,0"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- è‡ªå‹•æª¢æ¸¬å€ -->
                                    <Border Background="#F0F9FF" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <TextBlock Text="ðŸ”" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                <TextBlock Text="{Binding AutoDetectedPaths, Source={x:Static local:LocalizationService.Instance}}" FontWeight="SemiBold"/>
                                            </StackPanel>
                                            <TextBlock Text="{Binding WorkshopPath, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,4"/>
                                            <TextBlock Text="{Binding WorkshopPath}" FontSize="12" Foreground="#64748B" Margin="0,0,0,8"/>
                                            <TextBlock Text="{Binding ConfigPath, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,4"/>
                                            <TextBlock Text="{Binding ConfigPath}" FontSize="12" Foreground="#64748B"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- æ“ä½œæŒ‰éˆ•çµ„ -->
                                    <StackPanel Orientation="Horizontal">
                                        <Button Content="ðŸ” {Binding AutoDetectPaths, Source={x:Static local:LocalizationService.Instance}}" 
                                               Style="{StaticResource PrimaryButtonStyle}"
                                               Margin="0,0,8,0" 
                                               Click="AutoDetectPaths_Click"/>
                                        <Button Content="ðŸ’¾ {Binding ManualSave, Source={x:Static local:LocalizationService.Instance}}" 
                                               Style="{StaticResource SecondaryButtonStyle}"
                                               Click="ManualSaveButton_Click"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                            
                            <!-- ðŸ“ æª”æ¡ˆè¨­å®šå¡ç‰‡ -->
                            <Border Style="{StaticResource CardStyle}" Background="#FEF3C7">
                                <Border.Effect>
                                    <DropShadowEffect Color="#F59E0B" Opacity="0.1" BlurRadius="8" ShadowDepth="0"/>
                                </Border.Effect>
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="ðŸ“" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding ModsConfigSettings, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}"/>
                                        <TextBlock x:Name="ModsConfigStatusIcon" Text="âœ“" FontSize="16" Foreground="#F59E0B" Margin="8,0,0,0" Visibility="Collapsed"/>
                                    </StackPanel>
                                    <TextBlock Text="{Binding ModsConfigDescription, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,12"/>
                                    
                                    <Border Background="White" CornerRadius="8" Padding="16">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock x:Name="ModsConfigPathText" 
                                                           Text="{Binding NoFileSelected, Source={x:Static local:LocalizationService.Instance}}" 
                                                           Style="{StaticResource LabelTextStyle}"/>
                                                <TextBlock x:Name="ModsConfigPathSubText" Text="" FontSize="11" Foreground="#64748B" Margin="0,2,0,0"/>
                                            </StackPanel>
                                            <TextBlock x:Name="ModsConfigStatusText" Grid.Column="1" 
                                                       Text="" VerticalAlignment="Center" Margin="8,0"
                                                       Style="{StaticResource LabelTextStyle}"/>
                                            <Button x:Name="SelectModsConfigButton" Grid.Column="2" Content="ðŸ“‚ {Binding SelectFile, Source={x:Static local:LocalizationService.Instance}}" 
                                                    Style="{StaticResource SecondaryButtonStyle}"
                                                    Margin="8,0,0,0" Click="SelectModsConfigButton_Click"/>
                                        </Grid>
                                    </Border>
                                </StackPanel>
                            </Border>
                            
                        </StackPanel>
                        
                        <!-- å³å´æ¬„ -->
                        <StackPanel Grid.Column="2" Grid.Row="0">
                            
                            <!-- ðŸŒ æœ¬åœ°åŒ–è¨­å®šå¡ç‰‡ -->
                            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16" Background="#EFF6FF">
                                <Border.Effect>
                                    <DropShadowEffect Color="#3B82F6" Opacity="0.1" BlurRadius="8" ShadowDepth="0"/>
                                </Border.Effect>
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="ðŸŒ" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBlock Text="æœ¬åœ°åŒ–è¨­å®š" Style="{StaticResource SubHeaderTextStyle}"/>
                                    </StackPanel>
                                    <TextBlock Text="é¸æ“‡ä»‹é¢èªžè¨€å’Œç¿»è­¯åå¥½" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,12"/>
                                    
                                    <!-- ä»‹é¢èªžè¨€è¨­å®š -->
                                    <Border Background="White" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <TextBlock Text="ðŸ”¤" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                <TextBlock Text="ä»‹é¢èªžè¨€" FontWeight="SemiBold"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="èªžè¨€:" VerticalAlignment="Center" Margin="0,0,12,0" 
                                                           Style="{StaticResource LabelTextStyle}"/>
                                                <ComboBox x:Name="LanguageComboBox" Width="140" Height="32" 
                                                          Style="{StaticResource ModernComboBoxStyle}"
                                                          SelectionChanged="LanguageComboBox_SelectionChanged"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- ç¿»è­¯åå¥½è¨­å®š -->
                                    <Border Background="White" CornerRadius="8" Padding="16">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <TextBlock Text="ðŸ“" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                <TextBlock Text="ç¿»è­¯åå¥½" FontWeight="SemiBold"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <CheckBox x:Name="TraditionalChineseCheckBox" IsChecked="True" Margin="0,0,12,0"/>
                                                <TextBlock Text="ç¹é«”ä¸­æ–‡" VerticalAlignment="Center"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <CheckBox x:Name="SimplifiedChineseCheckBox" IsChecked="True" Margin="0,0,12,0"/>
                                                <TextBlock Text="ç®€ä½“ä¸­æ–‡" VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                            
                            <!-- ðŸ”§ é«˜ç´šè¨­å®šå¡ç‰‡ -->
                            <Border Style="{StaticResource CardStyle}" Background="#FAF5FF">
                                <Border.Effect>
                                    <DropShadowEffect Color="#8B5CF6" Opacity="0.1" BlurRadius="8" ShadowDepth="0"/>
                                </Border.Effect>
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="ðŸ”§" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding GameVersion, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}"/>
                                    </StackPanel>
                                    <TextBlock Text="{Binding GameVersionDescription, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,12"/>
                                    
                                    <Border Background="White" CornerRadius="8" Padding="16">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <TextBlock Text="ðŸŽ®" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                <TextBlock Text="{Binding CurrentVersion, Source={x:Static local:LocalizationService.Instance}}" FontWeight="SemiBold"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ç‰ˆæœ¬:" VerticalAlignment="Center" Margin="0,0,12,0" 
                                                           Style="{StaticResource LabelTextStyle}"/>
                                                <ComboBox x:Name="GameVersionComboBox" Width="140" Height="32" 
                                                          Style="{StaticResource ModernComboBoxStyle}"
                                                          SelectionChanged="GameVersionComboBox_SelectionChanged"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                            
                        </StackPanel>
                        
                        <!-- åº•éƒ¨è¨­å®šç®¡ç†å€ -->
                        <Border Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="1" Style="{StaticResource CardStyle}" Margin="0,16,0,0" Background="#F9FAFB">
                            <Border.Effect>
                                <DropShadowEffect Color="#6B7280" Opacity="0.05" BlurRadius="8" ShadowDepth="0"/>
                            </Border.Effect>
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <TextBlock Text="ðŸ’¾" FontSize="20" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                    <TextBlock Text="è¨­å®šç®¡ç†" Style="{StaticResource SubHeaderTextStyle}"/>
                                </StackPanel>
                                
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- è‡ªå‹•å„²å­˜è¨­å®š -->
                                    <Border Grid.Column="0" Background="White" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <TextBlock Text="ðŸ”„" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                <TextBlock Text="è‡ªå‹•å„²å­˜" FontWeight="SemiBold"/>
                                            </StackPanel>
                                            <CheckBox x:Name="AutoSaveCheckBox" IsChecked="True" Content="å•Ÿç”¨è‡ªå‹•å„²å­˜" 
                                                      Checked="AutoSaveCheckBox_Checked" Unchecked="AutoSaveCheckBox_Unchecked"/>
                                            <TextBlock Text="è®Šæ›´å¾Œè‡ªå‹•å„²å­˜è¨­å®š" FontSize="11" Foreground="#64748B" Margin="0,4,0,0"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- å‚™ä»½è¨­å®š -->
                                    <Border Grid.Column="1" Background="White" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <TextBlock Text="ðŸ“¦" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                <TextBlock Text="å‚™ä»½ç®¡ç†" FontWeight="SemiBold"/>
                                            </StackPanel>
                                            <Button Content="å»ºç«‹å‚™ä»½" Style="{StaticResource SecondaryButtonStyle}" 
                                                    Click="CreateBackupButton_Click" Margin="0,0,0,4"/>
                                            <Button Content="é‚„åŽŸå‚™ä»½" Style="{StaticResource SecondaryButtonStyle}" 
                                                    Click="RestoreBackupButton_Click"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- åŒ¯å…¥/åŒ¯å‡º -->
                                    <Border Grid.Column="2" Background="White" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <TextBlock Text="ðŸ“¤" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                <TextBlock Text="åŒ¯å…¥/åŒ¯å‡º" FontWeight="SemiBold"/>
                                            </StackPanel>
                                            <Button Content="åŒ¯å‡ºè¨­å®š" Style="{StaticResource SecondaryButtonStyle}" 
                                                    Click="ExportSettingsButton_Click" Margin="0,0,0,4"/>
                                            <Button Content="åŒ¯å…¥è¨­å®š" Style="{StaticResource SecondaryButtonStyle}" 
                                                    Click="ImportSettingsButton_Click"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- é‡è¨­è¨­å®š -->
                                    <Border Grid.Column="3" Background="White" CornerRadius="8" Padding="16">
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                <TextBlock Text="ðŸ”„" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                <TextBlock Text="é‡è¨­é¸é …" FontWeight="SemiBold"/>
                                            </StackPanel>
                                            <Button Content="é‡è¨­ç‚ºé è¨­å€¼" Style="{StaticResource DangerButtonStyle}" 
                                                    Click="ResetSettingsButton_Click"/>
                                        </StackPanel>
                                    </Border>
                                    
                                </Grid>
                            </StackPanel>
                        </Border>
                        
                    </Grid>
                </ScrollViewer>
            </TabItem>
            
            <!-- æ¨¡çµ„ç€è¦½é ç±¤ -->
            <TabItem Header="{Binding TabModBrowser, Source={x:Static local:LocalizationService.Instance}}">
                <Grid Margin="0,16,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2.5*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*" MinWidth="320"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- æŽƒææŽ§åˆ¶å€ -->
                    <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- æŽƒææŒ‰éˆ•å’Œç‹€æ…‹ -->
                            <StackPanel Grid.Row="0" Orientation="Horizontal">
                                <Button x:Name="ScanButton" Content="{Binding ScanMods, Source={x:Static local:LocalizationService.Instance}}" 
                                       Style="{StaticResource PrimaryButtonStyle}"
                                       Command="{Binding ScanCommand}"/>
                                <TextBlock x:Name="StatusTextBlock" Text="{Binding StatusText}" 
                                           VerticalAlignment="Center" Margin="12,0,0,0"
                                           Style="{StaticResource LabelTextStyle}"/>
                            </StackPanel>
                            
                            <!-- é€²åº¦æ¢ -->
                            <StackPanel x:Name="ProgressPanel" Grid.Row="1" Margin="0,12,0,0"
                                        Visibility="{Binding IsScanning, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <ProgressBar x:Name="ScanProgressBar" Height="8" 
                                             Value="{Binding ScanProgress}"
                                             Background="#E5E7EB" Foreground="#3B82F6"/>
                                <TextBlock x:Name="ProgressTextBlock" Text="{Binding StatusText}" 
                                           Margin="0,8,0,0" HorizontalAlignment="Center"
                                           Style="{StaticResource LabelTextStyle}"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <!-- æ¨¡çµ„åˆ—è¡¨ -->
                    <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource CardStyle}" Padding="0">
                        <DataGrid x:Name="ModsDataGrid" AutoGenerateColumns="False" 
                                  ItemsSource="{Binding Mods}"
                                  SelectionMode="Single" IsReadOnly="True"
                                  GridLinesVisibility="Horizontal" HeadersVisibility="Column"
                                  MouseRightButtonDown="ModsDataGrid_MouseRightButtonDown"
                                  SelectedItem="{Binding SelectedMod}"
                                  Background="Transparent" BorderThickness="0"
                                  RowBackground="White" AlternatingRowBackground="#FAFAFA"
                                  HorizontalGridLinesBrush="{StaticResource BorderBrush}">
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="Background" Value="#F8FAFC"/>
                                    <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
                                    <Setter Property="Padding" Value="12,10"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="FontSize" Value="12"/>
                                    <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
                                    <Setter Property="BorderThickness" Value="0,0,0,1"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>
                            <DataGrid.RowStyle>
                                <Style TargetType="DataGridRow">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsEnabled}" Value="False">
                                            <Setter Property="Opacity" Value="0.5"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                    <EventSetter Event="MouseEnter" Handler="DataGridRow_MouseEnter"/>
                                    <EventSetter Event="MouseLeave" Handler="DataGridRow_MouseLeave"/>
                                </Style>
                            </DataGrid.RowStyle>
                            <DataGrid.CellStyle>
                                <Style TargetType="DataGridCell">
                                    <Setter Property="Padding" Value="12,8"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="DataGridCell">
                                                <Border Padding="{TemplateBinding Padding}" Background="{TemplateBinding Background}">
                                                    <ContentPresenter VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="#EFF6FF"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGrid.CellStyle>
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="{Binding ColumnName, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding Name}" Width="*" MinWidth="200"/>
                                <DataGridTextColumn Header="{Binding ColumnAuthor, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding Author}" Width="120"/>
                                <DataGridTextColumn Header="{Binding ColumnVersion, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding SupportedVersions}" Width="90">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding VersionCompatibilityBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{Binding ColumnTraditionalChinese, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding HasChineseTraditional}" Width="60">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding HasChineseTraditionalBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                            <Setter Property="TextAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{Binding ColumnSimplifiedChinese, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding HasChineseSimplified}" Width="60">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding HasChineseSimplifiedBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                            <Setter Property="TextAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{Binding ColumnPatch, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding HasTranslationPatch}" Width="70">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding HasTranslationPatchBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                            <Setter Property="TextAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{Binding ColumnTranslatable, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding CanTranslate}" Width="60">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding CanTranslateBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                            <Setter Property="TextAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridCheckBoxColumn Header="{Binding ColumnEnabled, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding IsEnabled}" Width="50">
                                    <DataGridCheckBoxColumn.ElementStyle>
                                        <Style TargetType="CheckBox">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridCheckBoxColumn.ElementStyle>
                                </DataGridCheckBoxColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                    
                    <!-- åˆ†éš”ç·š -->
                    <GridSplitter Grid.Column="1" Width="16" Background="Transparent" 
                                  HorizontalAlignment="Center" VerticalAlignment="Stretch"/>
                    
                    <!-- é è¦½é¢æ¿ -->
                    <Border Grid.Row="1" Grid.Column="2" Style="{StaticResource CardStyle}">
                        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                            <StackPanel x:Name="PreviewPanel">
                                <TextBlock Text="{Binding ModDetails, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}" Margin="0,0,0,16"/>
                                
                                <!-- é è¦½åœ–ç‰‡ -->
                                <Border Background="#F8FAFC" CornerRadius="8" Padding="8" Margin="0,0,0,16">
                                    <Image x:Name="PreviewImage" MaxWidth="280" MaxHeight="280" 
                                           Source="{Binding SelectedMod.PreviewImage}"
                                           Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Border>
                                
                                <!-- æ¨¡çµ„è³‡è¨Š -->
                                <StackPanel x:Name="ModInfoPanel" Visibility="{Binding SelectedMod, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <TextBlock x:Name="ModNameText" FontSize="16" FontWeight="SemiBold" 
                                               Text="{Binding SelectedMod.Name}"
                                               Foreground="{StaticResource TextPrimaryBrush}" 
                                               TextWrapping="Wrap" Margin="0,0,0,8"/>
                                    
                                    <Border Background="#F8FAFC" CornerRadius="6" Padding="12" Margin="0,0,0,16">
                                        <StackPanel>
                                            <TextBlock x:Name="ModAuthorText" FontSize="13" 
                                                       Text="{Binding SelectedMod.Author, StringFormat='ä½œè€…: {0}'}"
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"/>
                                            <TextBlock x:Name="ModPackageIdText" FontSize="12" 
                                                       Text="{Binding SelectedMod.PackageId, StringFormat='PackageId: {0}'}"
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"
                                                       TextWrapping="Wrap"/>
                                            <TextBlock x:Name="ModVersionText" FontSize="12" 
                                                       Text="{Binding SelectedMod.SupportedVersions, StringFormat='ç‰ˆæœ¬: {0}'}"
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"/>
                                            <TextBlock x:Name="ModFolderText" FontSize="12" 
                                                       Text="{Binding SelectedMod.FolderName, StringFormat='è³‡æ–™å¤¾: {0}'}"
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- ç¿»è­¯ç‹€æ…‹ -->
                                    <TextBlock Text="{Binding TranslationStatus, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}" Margin="0,0,0,12"/>
                                    <Border Background="#F8FAFC" CornerRadius="6" Padding="12" Margin="0,0,0,16">
                                        <StackPanel>
                                            <TextBlock x:Name="ChineseTraditionalText" FontSize="13" Margin="0,0,0,6"
                                                       Text="{Binding SelectedMod.HasChineseTraditional, StringFormat='ç¹é«”ä¸­æ–‡: {0}'}"/>
                                            <TextBlock x:Name="ChineseSimplifiedText" FontSize="13" Margin="0,0,0,6"
                                                       Text="{Binding SelectedMod.HasChineseSimplified, StringFormat='ç°¡é«”ä¸­æ–‡: {0}'}"/>
                                            <TextBlock x:Name="TranslationPatchText" FontSize="13" Margin="0,0,0,6"
                                                       Text="{Binding SelectedMod.HasTranslationPatch, StringFormat='ç¿»è­¯è£œä¸: {0}'}"/>
                                            <TextBlock x:Name="CanTranslateText" FontSize="13"
                                                       Text="{Binding SelectedMod.CanTranslate, StringFormat='å¯ç¿»è­¯: {0}'}"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- ç¿»è­¯è£œä¸åˆ—è¡¨ -->
                                    <TextBlock x:Name="TranslationPatchesTitle" Text="{Binding RelatedTranslationPatches, Source={x:Static local:LocalizationService.Instance}}" 
                                               Style="{StaticResource SubHeaderTextStyle}"
                                               Visibility="Collapsed" Margin="0,0,0,12"/>
                                    <StackPanel x:Name="TranslationPatchesList" Visibility="Collapsed"/>
                                </StackPanel>
                                
                                <!-- ç©ºç‹€æ…‹ -->
                                <StackPanel x:Name="EmptyStateText" HorizontalAlignment="Center" Margin="0,40,0,0">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding SelectedMod}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>
                                    <TextBlock Text="ðŸ“‹" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,12"/>
                                    <TextBlock Text="{Binding SelectModToViewDetails, Source={x:Static local:LocalizationService.Instance}}" 
                                               FontSize="14" Foreground="{StaticResource TextSecondaryBrush}" 
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Border>
                </Grid>
            </TabItem>
            
            <!-- æœ¬åœ°æ¨¡çµ„é ç±¤ -->
            <TabItem Header="{Binding TabLocalMods, Source={x:Static local:LocalizationService.Instance}}">
                <Grid Margin="0,16,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2.5*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*" MinWidth="320"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- æŽƒææŽ§åˆ¶å€ -->
                    <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- æŽƒææŒ‰éˆ•å’Œç‹€æ…‹ -->
                            <StackPanel Grid.Row="0" Orientation="Horizontal">
                                <Button x:Name="ScanLocalModsButton" Content="{Binding ScanLocalMods, Source={x:Static local:LocalizationService.Instance}}" 
                                       Style="{StaticResource PrimaryButtonStyle}"
                                       Click="ScanLocalModsButton_Click"/>
                                <TextBlock x:Name="LocalModsStatusTextBlock" Text="{Binding ReadyToScanLocalMods, Source={x:Static local:LocalizationService.Instance}}" 
                                           VerticalAlignment="Center" Margin="12,0,0,0"
                                           Style="{StaticResource LabelTextStyle}"/>
                            </StackPanel>
                            
                            <!-- é€²åº¦æ¢ -->
                            <StackPanel x:Name="LocalModsProgressPanel" Grid.Row="1" Margin="0,12,0,0"
                                        Visibility="Collapsed">
                                <ProgressBar x:Name="LocalModsScanProgressBar" Height="8" 
                                             Background="#E5E7EB" Foreground="#10B981"/>
                                <TextBlock x:Name="LocalModsProgressTextBlock" Text="{Binding PreparingLocalModsScan, Source={x:Static local:LocalizationService.Instance}}" 
                                           Margin="0,8,0,0" HorizontalAlignment="Center"
                                           Style="{StaticResource LabelTextStyle}"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <!-- æœ¬åœ°æ¨¡çµ„åˆ—è¡¨ -->
                    <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource CardStyle}" Padding="0">
                        <DataGrid x:Name="LocalModsDataGrid" AutoGenerateColumns="False" 
                                  ItemsSource="{Binding LocalMods}"
                                  SelectionMode="Single" IsReadOnly="True"
                                  GridLinesVisibility="Horizontal" HeadersVisibility="Column"
                                  MouseRightButtonDown="LocalModsDataGrid_MouseRightButtonDown"
                                  SelectedItem="{Binding SelectedLocalMod}"
                                  Background="Transparent" BorderThickness="0"
                                  RowBackground="White" AlternatingRowBackground="#FAFAFA"
                                  HorizontalGridLinesBrush="{StaticResource BorderBrush}">
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="Background" Value="#F8FAFC"/>
                                    <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
                                    <Setter Property="Padding" Value="12,10"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="FontSize" Value="12"/>
                                    <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
                                    <Setter Property="BorderThickness" Value="0,0,0,1"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>
                            <DataGrid.RowStyle>
                                <Style TargetType="DataGridRow">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsEnabled}" Value="False">
                                            <Setter Property="Opacity" Value="0.5"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                    <EventSetter Event="MouseEnter" Handler="DataGridRow_MouseEnter"/>
                                    <EventSetter Event="MouseLeave" Handler="DataGridRow_MouseLeave"/>
                                </Style>
                            </DataGrid.RowStyle>
                            <DataGrid.CellStyle>
                                <Style TargetType="DataGridCell">
                                    <Setter Property="Padding" Value="12,8"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="DataGridCell">
                                                <Border Padding="{TemplateBinding Padding}" Background="{TemplateBinding Background}">
                                                    <ContentPresenter VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="#ECFDF5"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGrid.CellStyle>
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="{Binding ColumnName, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding Name}" Width="*" MinWidth="200"/>
                                <DataGridTextColumn Header="{Binding ColumnAuthor, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding Author}" Width="120"/>
                                <DataGridTextColumn Header="{Binding ColumnVersion, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding SupportedVersions}" Width="90">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding VersionCompatibilityBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{Binding ColumnTraditionalChinese, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding HasChineseTraditional}" Width="60">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding HasChineseTraditionalBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                            <Setter Property="TextAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{Binding ColumnSimplifiedChinese, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding HasChineseSimplified}" Width="60">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding HasChineseSimplifiedBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                            <Setter Property="TextAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{Binding ColumnPatch, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding HasTranslationPatch}" Width="70">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding HasTranslationPatchBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                            <Setter Property="TextAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{Binding ColumnTranslatable, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding CanTranslate}" Width="60">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Background" Value="{Binding CanTranslateBackground}"/>
                                            <Setter Property="Padding" Value="4,2"/>
                                            <Setter Property="TextAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridCheckBoxColumn Header="{Binding ColumnEnabled, Source={x:Static local:LocalizationService.Instance}}" Binding="{Binding IsEnabled}" Width="50">
                                    <DataGridCheckBoxColumn.ElementStyle>
                                        <Style TargetType="CheckBox">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridCheckBoxColumn.ElementStyle>
                                </DataGridCheckBoxColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                    
                    <!-- åˆ†éš”ç·š -->
                    <GridSplitter Grid.Column="1" Width="16" Background="Transparent" 
                                  HorizontalAlignment="Center" VerticalAlignment="Stretch"/>
                    
                    <!-- æœ¬åœ°æ¨¡çµ„é è¦½é¢æ¿ -->
                    <Border Grid.Row="1" Grid.Column="2" Style="{StaticResource CardStyle}">
                        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                            <StackPanel x:Name="LocalModsPreviewPanel">
                                <TextBlock Text="{Binding LocalModDetails, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}" Margin="0,0,0,16"/>
                                
                                <!-- é è¦½åœ–ç‰‡ -->
                                <Border Background="#F8FAFC" CornerRadius="8" Padding="8" Margin="0,0,0,16">
                                    <Image x:Name="LocalModsPreviewImage" MaxWidth="280" MaxHeight="280" 
                                           Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Border>
                                
                                <!-- æ¨¡çµ„è³‡è¨Š -->
                                <StackPanel x:Name="LocalModsModInfoPanel" Visibility="Collapsed">
                                    <TextBlock x:Name="LocalModsModNameText" FontSize="16" FontWeight="SemiBold" 
                                               Foreground="{StaticResource TextPrimaryBrush}" 
                                               TextWrapping="Wrap" Margin="0,0,0,8"/>
                                    
                                    <Border Background="#F8FAFC" CornerRadius="6" Padding="12" Margin="0,0,0,16">
                                        <StackPanel>
                                            <TextBlock x:Name="LocalModsModAuthorText" FontSize="13" 
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"/>
                                            <TextBlock x:Name="LocalModsModPackageIdText" FontSize="12" 
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"
                                                       TextWrapping="Wrap"/>
                                            <TextBlock x:Name="LocalModsModVersionText" FontSize="12" 
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"/>
                                            <TextBlock x:Name="LocalModsModFolderText" FontSize="12" 
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- ç¿»è­¯ç‹€æ…‹ -->
                                    <TextBlock Text="{Binding TranslationStatus, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}" Margin="0,0,0,12"/>
                                    <Border Background="#F8FAFC" CornerRadius="6" Padding="12" Margin="0,0,0,16">
                                        <StackPanel>
                                            <TextBlock x:Name="LocalModsChineseTraditionalText" FontSize="13" Margin="0,0,0,6"/>
                                            <TextBlock x:Name="LocalModsChineseSimplifiedText" FontSize="13" Margin="0,0,0,6"/>
                                            <TextBlock x:Name="LocalModsTranslationPatchText" FontSize="13" Margin="0,0,0,6"/>
                                            <TextBlock x:Name="LocalModsCanTranslateText" FontSize="13"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- ç¿»è­¯è£œä¸åˆ—è¡¨ -->
                                    <TextBlock x:Name="LocalModsTranslationPatchesTitle" Text="{Binding RelatedTranslationPatches, Source={x:Static local:LocalizationService.Instance}}" 
                                               Style="{StaticResource SubHeaderTextStyle}"
                                               Visibility="Collapsed" Margin="0,0,0,12"/>
                                    <StackPanel x:Name="LocalModsTranslationPatchesList" Visibility="Collapsed"/>
                                </StackPanel>
                                
                                <!-- ç©ºç‹€æ…‹ -->
                                <StackPanel x:Name="LocalModsEmptyStateText" HorizontalAlignment="Center" Margin="0,40,0,0">
                                    <TextBlock Text="ðŸ " FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,12"/>
                                    <TextBlock Text="{Binding SelectLocalModToViewDetails, Source={x:Static local:LocalizationService.Instance}}" 
                                               FontSize="14" Foreground="{StaticResource TextSecondaryBrush}" 
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </Border>
                </Grid>
            </TabItem>
            
            <!-- æ¨¡çµ„ç®¡ç†é ç±¤ -->
            <TabItem Header="{Binding TabModManager, Source={x:Static local:LocalizationService.Instance}}">
                <Grid Margin="0,16,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- å·¦å´ï¼šæ¨¡çµ„æ±  -->
                    <Border Grid.Column="0" Style="{StaticResource CardStyle}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            
                            <StackPanel Grid.Row="0" Margin="0,0,0,12">
                                <TextBlock Text="{Binding ModPool, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}"/>
                                <TextBlock Text="{Binding ModPoolDescription, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource LabelTextStyle}" Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <ListBox x:Name="ModPoolListBox" Grid.Row="1" 
                                     SelectionMode="Extended"
                                     AllowDrop="True"
                                     Drop="ModPoolListBox_Drop"
                                     Background="Transparent" BorderThickness="0">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem">
                                        <EventSetter Event="MouseEnter" Handler="ListBoxItem_MouseEnter"/>
                                        <EventSetter Event="MouseLeave" Handler="ListBoxItem_MouseLeave"/>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="White" CornerRadius="6" Padding="12,8" Margin="0,2">
                                            <StackPanel>
                                                <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="13"/>
                                                <TextBlock Text="{Binding Author}" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}"/>
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Grid>
                    </Border>
                    
                    <!-- ä¸­é–“ï¼šæ“ä½œå€ -->
                    <Grid Grid.Column="1" VerticalAlignment="Center" Margin="16,0">
                        <!-- ç§»é™¤ä¸­é–“æŒ‰éˆ•ï¼Œæ”¹ç‚ºåº•éƒ¨çµ±ä¸€æ“ä½œ -->
                    </Grid>
                    
                    <!-- å³å´ï¼šå•Ÿç”¨åˆ—è¡¨ -->
                    <Border Grid.Column="2" Style="{StaticResource CardStyle}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            
                            <StackPanel Grid.Row="0" Margin="0,0,0,12">
                                <TextBlock Text="{Binding EnabledList, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SubHeaderTextStyle}"/>
                                <TextBlock Text="{Binding EnabledListDescription, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource LabelTextStyle}" Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <ListBox x:Name="EnabledModsListBox" Grid.Row="1"
                                     SelectionMode="Extended"
                                     AllowDrop="True"
                                     Drop="EnabledModsListBox_Drop"
                                     Background="Transparent" BorderThickness="0">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem">
                                        <EventSetter Event="MouseEnter" Handler="ListBoxItem_MouseEnter"/>
                                        <EventSetter Event="MouseLeave" Handler="ListBoxItem_MouseLeave"/>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#F0FDF4" CornerRadius="6" Padding="12,8" Margin="0,2">
                                            <StackPanel>
                                                <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="13"/>
                                                <TextBlock Text="{Binding Author}" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}"/>
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Grid>
                    </Border>
                    
                    <!-- åº•éƒ¨æ“ä½œå€ -->
                    <Border Grid.Row="1" Grid.ColumnSpan="3" Style="{StaticResource CardStyle}" Margin="0,16,0,0">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Button Content="{Binding EnableSelected, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource PrimaryButtonStyle}" 
                                    Click="MoveToEnabled_Click" Margin="0,0,12,0"/>
                            <Button Content="{Binding DisableSelected, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SecondaryButtonStyle}" 
                                    Click="MoveToPool_Click" Margin="0,0,12,0"/>
                            <Button Content="{Binding Refresh, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SecondaryButtonStyle}" 
                                    Click="RefreshModLists_Click" Margin="0,0,12,0"/>
                            <Button Content="{Binding Diagnose, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource SecondaryButtonStyle}" 
                                    Click="DiagnoseModsConfig_Click" Margin="0,0,12,0"/>
                            <Button Content="{Binding SaveConfig, Source={x:Static local:LocalizationService.Instance}}" Style="{StaticResource PrimaryButtonStyle}" 
                                    Click="SaveModsConfig_Click"/>
                        </StackPanel>
                    </Border>
                </Grid>
            </TabItem>
            
        </TabControl>
        
        <!-- åº•éƒ¨ç‹€æ…‹åˆ— -->
        <Border Grid.Row="2" Background="{DynamicResource HeaderBackgroundBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,1,0,0">
            <Grid Margin="24,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="1" Text="{Binding AppVersion, Source={x:Static local:LocalizationService.Instance}}" 
                           VerticalAlignment="Center" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12"/>
            </Grid>
        </Border>
    </Grid>
</Window>
